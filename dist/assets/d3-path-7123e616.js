var L=Object.freeze,F=Object.defineProperty;var e=($,t)=>L(F($,"raw",{value:L(t||$.slice())}));const c=Math.PI,y=2*c,u=1e-6,G=y-u;function B($){this._+=$[0];for(let t=1,h=$.length;t<h;++t)this._+=arguments[t]+$[t]}function H($){let t=Math.floor($);if(!(t>=0))throw new Error("invalid digits: ".concat($));if(t>15)return B;const h=10**t;return function(i){this._+=i[0];for(let s=1,_=i.length;s<_;++s)this._+=Math.round(arguments[s]*h)/h+i[s]}}var P,m,q,C,g,w,Z,k,z,I,Q,R,S,j;class K{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?B:H(t)}moveTo(t,h){this._append(P||(P=e(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+h)}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append(m||(m=e(["Z"]))))}lineTo(t,h){this._append(q||(q=e(["L",",",""])),this._x1=+t,this._y1=+h)}quadraticCurveTo(t,h,i,s){this._append(C||(C=e(["Q",",",",",",",""])),+t,+h,this._x1=+i,this._y1=+s)}bezierCurveTo(t,h,i,s,_,p){this._append(g||(g=e(["C",",",",",",",",",",",""])),+t,+h,+i,+s,this._x1=+_,this._y1=+p)}arcTo(t,h,i,s,_){if(t=+t,h=+h,i=+i,s=+s,_=+_,_<0)throw new Error("negative radius: ".concat(_));let p=this._x1,f=this._y1,d=i-t,l=s-h,n=p-t,o=f-h,a=n*n+o*o;if(this._x1===null)this._append(w||(w=e(["M",",",""])),this._x1=t,this._y1=h);else if(a>u)if(!(Math.abs(o*d-l*n)>u)||!_)this._append(Z||(Z=e(["L",",",""])),this._x1=t,this._y1=h);else{let M=i-p,r=s-f,v=d*d+l*l,D=M*M+r*r,b=Math.sqrt(v),T=Math.sqrt(a),A=_*Math.tan((c-Math.acos((v+a-D)/(2*b*T)))/2),x=A/T,E=A/b;Math.abs(x-1)>u&&this._append(k||(k=e(["L",",",""])),t+x*n,h+x*o),this._append(z||(z=e(["A",",",",0,0,",",",",",""])),_,_,+(o*M>n*r),this._x1=t+E*d,this._y1=h+E*l)}}arc(t,h,i,s,_,p){if(t=+t,h=+h,i=+i,p=!!p,i<0)throw new Error("negative radius: ".concat(i));let f=i*Math.cos(s),d=i*Math.sin(s),l=t+f,n=h+d,o=1^p,a=p?s-_:_-s;this._x1===null?this._append(I||(I=e(["M",",",""])),l,n):(Math.abs(this._x1-l)>u||Math.abs(this._y1-n)>u)&&this._append(Q||(Q=e(["L",",",""])),l,n),i&&(a<0&&(a=a%y+y),a>G?this._append(R||(R=e(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),i,i,o,t-f,h-d,i,i,o,this._x1=l,this._y1=n):a>u&&this._append(S||(S=e(["A",",",",0,",",",",",",",""])),i,i,+(a>=c),o,this._x1=t+i*Math.cos(_),this._y1=h+i*Math.sin(_)))}rect(t,h,i,s){this._append(j||(j=e(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+h,i=+i,+s,-i)}toString(){return this._}}export{K as P};
