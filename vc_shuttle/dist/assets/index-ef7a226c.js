var F=Object.defineProperty;var O=(i,t,n)=>t in i?F(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var h=(i,t,n)=>(O(i,typeof t!="symbol"?t+"":t,n),n);import{r,j as e,R as U}from"./react-d8bc2558.js";import{c as Y}from"./react-dom-fbf06af2.js";import{I as Q,a as z,b as K,c as k,d as g,e as S,f as u,g as I,h as j,i as p,j as D,k as b,l as T,m as B,n as V,o as Z,p as L,q as d,r as f,s as v,t as w,u as G,v as X,w as J,x as q}from"./@ionic-8aa14af2.js";import{u as W,R as m}from"./react-router-cd98c6c8.js";import{m as y}from"./mapbox-gl-c05a5383.js";import"./hoist-non-react-statics-699b4e02.js";import"./scheduler-765c72db.js";import"./@stencil-932bb4b7.js";import"./tslib-6635c9de.js";import"./history-a0f535f0.js";import"./@babel-47f85c78.js";import"./resolve-pathname-e210f2ac.js";import"./tiny-invariant-dd7d57d2.js";import"./ionicons-e7a230f1.js";import"./prop-types-6b9325c0.js";import"./path-to-regexp-952b0cb2.js";function Le(){import.meta.url,import("_").catch(()=>1);async function*i(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const $="/assets/placeholderimage_logo-38cb3909.png";class H{constructor(){h(this,"userList");h(this,"statusList");this.statusList=["Active","In-active","Idle"],this.userList=[{id:1,name:"John Doe",email:"johndoe@example.com",password:"password1",role:"admin",status:"active"},{id:2,name:"Jane Smith",email:"janesmith@example.com",password:"password2",role:"driver",status:"active"},{id:3,name:"Alice Johnson",email:"alicejohnson@example.com",password:"password3",role:"user",status:"active"}]}findUser(t){return this.userList.find(n=>n.email===t)}getStatuses(){return this.statusList}}const _=()=>{const[i,t]=r.useState();r.useState();const n=new H,a=c=>{t(c.detail.value)},s=W(),o=c=>{if(i===null)console.log("Invalid username");else{var l=n.findUser("janesmith@example.com");console.log(l),(l==null?void 0:l.role)=="driver"?s.push("/DriverHomePage"):(l==null?void 0:l.role)=="user"?s.push("/StudentHome"):(l==null?void 0:l.role)=="admin"&&s.push("/AdminHomePage")}};return e.jsxs("div",{children:[e.jsx("h4",{className:"ion-text-center ion-margin-top",children:"VC Shuttle"}),e.jsx("form",{onSubmit:o,children:e.jsx(Q,{children:e.jsx(z,{className:"ion-justify-content-center ion-align-items-center",style:{height:"10%"},children:e.jsxs(K,{size:"12",sizeMd:"6",sizeLg:"4",sizeXl:"3",children:[e.jsx("div",{className:"ion-text-center ion-padding",children:e.jsx("img",{src:$,alt:"Place holder logo",width:"50%"})}),e.jsx(k,{className:"ion-margin-top",label:"Email","label-placement":"floating",type:"email",fill:"outline",placeholder:"Enter email",value:i,onIonChange:a}),e.jsx(k,{className:"ion-margin-top",label:"Password","label-placement":"floating",type:"password",fill:"outline",placeholder:"Enter Password"}),e.jsx(g,{className:"ion-margin-top",type:"submit",expand:"block",children:"Log In"})]})})})})]})},ee=()=>e.jsxs(S,{children:[e.jsx(u,{}),e.jsx(I,{children:e.jsx(_,{})})]});class te{constructor(){h(this,"shuttles");this.shuttles=[{shuttleID:1,shuttleName:"Shuttle 1",driverID:"Driver1",numberOfseats:20,status:"Active"},{shuttleID:2,shuttleName:"Shuttle 2",driverID:"Driver2",numberOfseats:30,status:"Inactive"},{shuttleID:3,shuttleName:"Shuttle 3",driverID:"Driver3",numberOfseats:30,status:"Inactive"}]}getShuttles(){return this.shuttles}addShuttle(t){this.shuttles.push(t)}removeShuttle(t){this.shuttles=this.shuttles.filter(n=>n.shuttleID!==t)}}const C=({onShuttleSelect:i})=>{const[t,n]=r.useState([]),a=new te;return r.useEffect(()=>{n(a.getShuttles())},[]),e.jsx("div",{children:e.jsx(j,{children:e.jsx(p,{className:"ion-padding",children:e.jsx(D,{"aria-label":"Shuttles",placeholder:"Select a Shuttle",onIonChange:s=>i(s.detail.value),children:t.map(s=>e.jsx(b,{value:s.shuttleID,children:s.shuttleName},s.shuttleID))})})})})},se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVR4nO2RPQ6CQBBGX4GV2utVjF6Du4itXsRCb6PcwVISChutlmwyJoYs+8d08pIpCN83LwwwkUEBlMAZqIEGaAHTm1be1ZItpetlDdwdy0zk3ICVT3AdsdzIXHyCRkHw9Am+oQ3pbH/6QUEuZhKoncj+sFR2KYKx8weCPTAHqohlrmxQsJDnZYTAlR3kIYFKiocIQT9rdwxyUrj/0SeYKQgKAnwk+A4Fczv2TK/Qpyp0dOgAM4XfTq0lFMYAAAAASUVORK5CYII=",ne=()=>e.jsx("div",{children:e.jsxs(T,{children:[e.jsx(u,{title:"Title",children:e.jsxs(B,{className:"ion-padding",children:[e.jsx("div",{children:e.jsx("img",{src:se,alt:"BusIcon"})}),"4 / 24 Seats"]})}),e.jsx(V,{className:"ion-padding",children:"VC Sancdton - Sandton Gautrain"}),e.jsx(Z,{children:"https://ionicframework.com/docs/api/progress-bar"}),e.jsx(L,{children:"Here's a small text description for the card content."}),e.jsx(L,{children:"Here's a small text description for the card content."}),e.jsx(g,{routerLink:"/StudentMap",className:"ion-padding",children:"Track"})]})}),x=class x{constructor(){h(this,"bookings");this.bookings=[{bookingId:1,session:"Morning",shuttleID:123,bookingStatus:"inActive",startLocation:"ABC Street",endLocation:"XYZ Avenue",bookingTime:new Date("2022-01-01T09:00:00")},{bookingId:2,session:"Afternoon",shuttleID:456,bookingStatus:"Active",startLocation:"DEF Road",endLocation:"LMN Lane",bookingTime:new Date("2022-01-02T14:30:00")},{bookingId:3,session:"Evening",shuttleID:456,bookingStatus:"Active",startLocation:"Helo Road",endLocation:"Ball Lane",bookingTime:new Date("2022-01-02T14:30:00")},{bookingId:4,session:"MidAfternoon",shuttleID:456,bookingStatus:"inActive",startLocation:"Helo Road",endLocation:"Ball Lane",bookingTime:new Date("2022-01-02T14:30:00")}]}static getInstance(){return x.instance||(x.instance=new x),x.instance}getBookings(){return console.log(this.bookings.length),this.bookings}getActiveBookings(){return this.bookings.filter(t=>t.bookingStatus==="Active")}addBooking(t){this.bookings.push(t),console.log(t)}removeBooking(t){this.bookings=this.bookings.filter(n=>n.bookingId!==t)}};h(x,"instance");let A=x;const oe=()=>{const[i,t]=r.useState([]),n=new A;return r.useEffect(()=>{t(n.getActiveBookings())},[]),e.jsx("div",{className:"ion-padding",children:e.jsx(j,{children:i.map(a=>e.jsxs(p,{children:[e.jsx(d,{children:a.session}),e.jsxs(d,{children:[a.startLocation," to ",a.endLocation]})]},a.bookingId))})})},ie=()=>e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Home"})})}),e.jsxs(I,{className:"ion-padding",children:[e.jsx(g,{routerLink:"/ShuttleBooking",className:"ion-padding",children:"Book"}),e.jsx(C,{onShuttleSelect:function(i){throw new Error("Function not implemented.")}}),e.jsx(ne,{}),e.jsx(g,{routerLink:"/StudentBookingList",className:"ion-padding",children:"LIST"}),e.jsx(oe,{})]})]});class ae{constructor(){h(this,"schedules");this.schedules=[{scheduleID:1,scheduleName:"Session 1",startTime:new Date(2023,8,5,9,0,0),endTime:new Date(2023,8,5,10,0,0)},{scheduleID:2,scheduleName:"Session 2",startTime:new Date(2023,8,6,9,0,0),endTime:new Date(2023,8,6,10,0,0)},{scheduleID:3,scheduleName:"Session 3",startTime:new Date(2023,8,7,9,0,0),endTime:new Date(2023,8,7,10,0,0)},{scheduleID:4,scheduleName:"Session 4",startTime:new Date(2023,8,8,9,0,0),endTime:new Date(2023,8,8,10,0,0)},{scheduleID:5,scheduleName:"Session 5",startTime:new Date(2023,8,9,9,0,0),endTime:new Date(2023,8,9,10,0,0)}]}getSchedules(){return this.schedules}}const re=({onScheduleSelect:i})=>{const[t,n]=r.useState([]),a=new ae;return r.useEffect(()=>{n(a.getSchedules())},[]),e.jsx("div",{children:e.jsx(j,{children:e.jsx(p,{className:"ion-padding",children:e.jsx(D,{"aria-label":"Schedules",placeholder:"Select a Time slot",onIonChange:s=>i(s.detail.value),children:t.map(s=>e.jsx(b,{value:s.scheduleName,children:s.scheduleName},s.scheduleID))})})})})};class le{constructor(){h(this,"locations");this.locations=[{locationId:1,locationName:"Newyork"},{locationId:2,locationName:"Tokyo"},{locationId:3,locationName:"London"}]}getLocations(){return this.locations}getexcludedLocations(t){var n=this.locations.filter(a=>a.locationName===t);return n}}const N=({onLocationSelect:i})=>{const[t,n]=r.useState([]),a=new le;return r.useEffect(()=>{n(a.getLocations())},[]),e.jsx("div",{children:e.jsx(j,{children:e.jsx(p,{className:"ion-padding",children:e.jsx(D,{"aria-label":"Locations",placeholder:"Select a Location",onIonChange:s=>i(s.detail.value),children:t.map(s=>e.jsx(b,{value:s.locationName,children:s.locationName},s.locationId))})})})})},ce=()=>{const i=A.getInstance(),[t,n]=r.useState(null),[a,s]=r.useState(null),[o,c]=r.useState(null),[l,E]=r.useState(null),R=P=>{if(t===null||a===null||o===null||l===null)console.error("Please select all values.");else{P.preventDefault();const M={bookingId:1,session:a,shuttleID:t,bookingStatus:"Active",startLocation:o,endLocation:l,bookingTime:new Date};i.addBooking(M)}};return e.jsx("form",{onSubmit:R,children:e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Shuttle Booking"})})}),e.jsxs(I,{className:"ion-padding",children:[e.jsx(C,{onShuttleSelect:n}),e.jsx(re,{onScheduleSelect:s}),e.jsx(d,{children:"Start location"}),".",e.jsx(N,{onLocationSelect:c}),e.jsx(d,{children:"End location"}),e.jsx(N,{onLocationSelect:E}),e.jsx(g,{className:"ion-margin-top",type:"submit",children:"Submit"})]})]})})},de=()=>{const[i,t]=r.useState([]),[n,a]=r.useState([]),s=A.getInstance();return r.useEffect(()=>{t(s.getBookings()),a(s.getActiveBookings())},[]),e.jsxs("div",{children:[e.jsx(w,{className:"ion-padding",children:"Active"}),e.jsx(j,{inset:!0,children:n.map(o=>e.jsxs(p,{children:[e.jsx(d,{children:o.session}),e.jsxs(d,{children:[o.startLocation," to ",o.endLocation]})]},o.bookingId))}),e.jsx(w,{className:"ion-padding",children:"All Bookings"}),e.jsx(j,{inset:!0,children:i.map(o=>e.jsxs(p,{children:[e.jsx(d,{children:o.session}),e.jsxs(d,{children:[o.startLocation," to ",o.endLocation]}),e.jsx(d,{children:o.bookingStatus})]},o.bookingId))})]})},ue=()=>e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Booking list"})})}),e.jsx(I,{className:"ion-padding",children:e.jsx(de,{})})]}),he=({onDriverStatusSelect:i})=>{const[t,n]=r.useState([]),a=new H;r.useEffect(()=>{n(a.getStatuses())},[]);const s=o=>{const c=o.detail.value;i(c)};return e.jsx("div",{children:e.jsx(j,{children:e.jsx(p,{className:"ion-padding",children:e.jsx(D,{"aria-label":"Status",placeholder:"Status",onIonChange:s,children:t.map(o=>e.jsx(b,{value:o,children:o},o))})})})})},me=()=>e.jsx("div",{children:e.jsxs(T,{children:[e.jsx(u,{children:e.jsx(B,{className:"ion-padding",children:"4 / 24 Seats"})}),e.jsx(L,{children:"Session : Morning (06:00-09:00)"}),e.jsx(L,{children:"My status: Active"}),e.jsx(L,{children:"Start location - end Location"}),e.jsx(g,{routerLink:"/StudentMap",className:"ion-padding",children:"MAP"})]})}),xe=()=>{const[i,t]=r.useState(),n=a=>{t(a),console.log("Selected Driver Status:",a)};return e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Driver"})})}),e.jsxs(I,{className:"ion-padding",children:[e.jsx(he,{onDriverStatusSelect:n}),e.jsx(g,{routerLink:"/ShuttleBooking",className:"ion-padding",children:"ROUTE"}),e.jsx(me,{})]})]})};y.accessToken="pk.eyJ1IjoidGhlcmVhbGJvbmdhIiwiYSI6ImNsbG0yMXF2dTJqZm0zZ21nbm43b3RyamYifQ.DeWMvQ5HgM53BMjgWqc2TQ";const ge=()=>{const i=r.useRef(null),t=r.useRef(null),[n,a]=r.useState(-70.9),[s,o]=r.useState(42.35),[c,l]=r.useState(9);return r.useEffect(()=>{t.current||(t.current=new y.Map({container:i.current,style:"mapbox://styles/mapbox/streets-v12",center:[n,s],zoom:c}),t.current.on("move",()=>{a(t.current.getCenter().lng.toFixed(4)),o(t.current.getCenter().lat.toFixed(4)),l(t.current.getZoom().toFixed(2))}))}),e.jsxs("div",{children:[e.jsxs("div",{className:"sidebar",children:["Longitude: ",n," | Latitude: ",s," | Zoom: ",c]}),e.jsx("div",{ref:i,className:"map-container"})]})},je=()=>e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Page Title"})})}),e.jsx(I,{className:"ion-padding",children:e.jsx(ge,{})})]}),pe=()=>e.jsxs(S,{children:[e.jsx(u,{children:e.jsx(f,{children:e.jsx(v,{children:"Admin homePage"})})}),e.jsx(I,{className:"ion-padding",children:"UI goes here..."})]});G();const Se=()=>e.jsx(X,{children:e.jsx(J,{children:e.jsxs(q,{children:[e.jsx(m,{exact:!0,path:"/",children:e.jsx(ee,{})}),e.jsx(m,{exact:!0,path:"/StudentHome",children:e.jsx(ie,{})}),e.jsx(m,{exact:!0,path:"/DriverHomePage",children:e.jsx(xe,{})}),e.jsx(m,{children:e.jsx(pe,{})}),e.jsx(m,{exact:!0,path:"/ShuttleBooking",children:e.jsx(ce,{})}),e.jsx(m,{exact:!0,path:"/StudentBookingList",children:e.jsx(ue,{})}),e.jsx(m,{exact:!0,path:"/StudentMap",children:e.jsx(je,{})})]})})}),Ie=document.getElementById("root"),fe=Y(Ie);fe.render(e.jsx(U.StrictMode,{children:e.jsx(Se,{})}));export{Le as __vite_legacy_guard};
